{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { Offer, Proposal, Swap, SwapStats } from './types';\n\n// Use Next.js API routes (no external API needed)\nconst api = axios.create({\n  baseURL: '/api',\n  withCredentials: true, // Send cookies with requests\n});\n\nexport const getActiveOffers = async (params?: any) => {\n  const response = await api.get<{ data: Offer[] }>('/offers', { params: { ...params, status: 'active' } });\n  return response.data.data;\n};\n\nexport const getOffers = async (params?: any) => {\n    const response = await api.get<{ data: Offer[] }>('/offers', { params });\n    return response.data.data;\n}\n\nexport const getOffer = async (id: string) => {\n  const response = await api.get<{ data: Offer }>(`/offers/${id}`);\n  return response.data.data;\n};\n\nexport const getProposals = async (offerId?: string, params?: any) => {\n  const query = { ...params };\n  if (offerId) query.offer_id = offerId;\n  const response = await api.get<{ data: Proposal[] }>('/proposals', { params: query });\n  return response.data.data;\n};\n\nexport const getSwaps = async (params?: any) => {\n  const response = await api.get<{ data: Swap[] }>('/swaps', { params });\n  return response.data.data;\n};\n\nexport const getSwapStats = async () => {\n  const response = await api.get<{ data: SwapStats }>('/swaps/stats');\n  return response.data.data;\n};\n\nexport const createOffer = async (offerData: {\n  offer_id: string;\n  seller: string;\n  token_mint_a: string;\n  token_amount_a: string;\n  token_mint_b: string;\n  token_amount_b: string;\n  allow_alternatives: boolean;\n  signature: string;\n  slot?: number;\n}) => {\n  const response = await api.post<{ data: Offer }>('/offers', offerData);\n  return response.data.data;\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;;AAGA,kDAAkD;AAClD,MAAM,MAAM,sMAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEO,MAAM,kBAAkB,OAAO;IACpC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAoB,WAAW;QAAE,QAAQ;YAAE,GAAG,MAAM;YAAE,QAAQ;QAAS;IAAE;IACvG,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B;AAEO,MAAM,YAAY,OAAO;IAC5B,MAAM,WAAW,MAAM,IAAI,GAAG,CAAoB,WAAW;QAAE;IAAO;IACtE,OAAO,SAAS,IAAI,CAAC,IAAI;AAC7B;AAEO,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,IAAI,GAAG,CAAkB,CAAC,QAAQ,EAAE,IAAI;IAC/D,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B;AAEO,MAAM,eAAe,OAAO,SAAkB;IACnD,MAAM,QAAQ;QAAE,GAAG,MAAM;IAAC;IAC1B,IAAI,SAAS,MAAM,QAAQ,GAAG;IAC9B,MAAM,WAAW,MAAM,IAAI,GAAG,CAAuB,cAAc;QAAE,QAAQ;IAAM;IACnF,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B;AAEO,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,IAAI,GAAG,CAAmB,UAAU;QAAE;IAAO;IACpE,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B;AAEO,MAAM,eAAe;IAC1B,MAAM,WAAW,MAAM,IAAI,GAAG,CAAsB;IACpD,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B;AAEO,MAAM,cAAc,OAAO;IAWhC,MAAM,WAAW,MAAM,IAAI,IAAI,CAAkB,WAAW;IAC5D,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/components/swap-stats.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { getSwapStats } from \"@/lib/api\";\n\nexport function SwapStats() {\n  const { data: stats, isLoading } = useQuery({\n    queryKey: [\"swapStats\"],\n    queryFn: getSwapStats,\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 p-4\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"space-y-2 animate-pulse\">\n            <div className=\"h-4 w-24 bg-muted rounded\" />\n            <div className=\"h-8 w-16 bg-muted rounded\" />\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 p-4 border-b border-border/40\">\n      <div>\n        <div className=\"text-sm font-medium text-muted-foreground uppercase tracking-wider\">Total Volume</div>\n        <div className=\"text-3xl font-light mt-1\">\n          {stats?.total_volume?.toLocaleString() ?? \"0\"}\n        </div>\n      </div>\n      <div>\n        <div className=\"text-sm font-medium text-muted-foreground uppercase tracking-wider\">Total Swaps</div>\n        <div className=\"text-3xl font-light mt-1\">\n          {stats?.total_swaps?.toLocaleString() ?? \"0\"}\n        </div>\n      </div>\n      <div>\n        <div className=\"text-sm font-medium text-muted-foreground uppercase tracking-wider\">Active Offers</div>\n        <div className=\"text-3xl font-light mt-1\">\n          {stats?.active_offers?.toLocaleString() ?? \"0\"}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKO,SAAS;;IACd,MAAM,EAAE,MAAM,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,2RAAQ,EAAC;QAC1C,UAAU;YAAC;SAAY;QACvB,SAAS,oIAAY;IACvB;IAEA,IAAI,WAAW;QACb,qBACE,8VAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,kBACd,8VAAC;oBAAY,WAAU;;sCACrB,8VAAC;4BAAI,WAAU;;;;;;sCACf,8VAAC;4BAAI,WAAU;;;;;;;mBAFP;;;;;;;;;;IAOlB;IAEA,qBACE,8VAAC;QAAI,WAAU;;0BACb,8VAAC;;kCACC,8VAAC;wBAAI,WAAU;kCAAqE;;;;;;kCACpF,8VAAC;wBAAI,WAAU;kCACZ,OAAO,cAAc,oBAAoB;;;;;;;;;;;;0BAG9C,8VAAC;;kCACC,8VAAC;wBAAI,WAAU;kCAAqE;;;;;;kCACpF,8VAAC;wBAAI,WAAU;kCACZ,OAAO,aAAa,oBAAoB;;;;;;;;;;;;0BAG7C,8VAAC;;kCACC,8VAAC;wBAAI,WAAU;kCAAqE;;;;;;kCACpF,8VAAC;wBAAI,WAAU;kCACZ,OAAO,eAAe,oBAAoB;;;;;;;;;;;;;;;;;;AAKrD;GAzCgB;;QACqB,2RAAQ;;;KAD7B"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/lib/token-utils.ts"],"sourcesContent":["import { PublicKey } from \"@solana/web3.js\";\n\n// Test tokens on devnet\nexport const KNOWN_TOKENS = {\n  TOKEN_A: \"C4G1qgNVUJanw8T3VTeJKPtXai3p3k44A7KoiW5LgqZ4\",\n  TOKEN_B: \"6Hy5jN5gtA5fkhcYXw6ReNYd88oj3LW9i7hSsxDJTVo8\",\n  // Mainnet tokens (for reference)\n  SOL: \"So11111111111111111111111111111111111111112\",\n  USDC: \"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",\n} as const;\n\nexport const TOKEN_LABELS: Record<string, string> = {\n  [KNOWN_TOKENS.TOKEN_A]: \"Test Token A (1000)\",\n  [KNOWN_TOKENS.TOKEN_B]: \"Test Token B (500)\",\n  [KNOWN_TOKENS.SOL]: \"SOL\",\n  [KNOWN_TOKENS.USDC]: \"USDC\",\n};\n\n// Convert human-readable amount to lamports/smallest unit\nexport function toTokenAmount(amount: number | string, decimals: number = 9): string {\n  const num = typeof amount === \"string\" ? parseFloat(amount) : amount;\n  return Math.floor(num * Math.pow(10, decimals)).toString();\n}\n\n// Convert lamports/smallest unit to human-readable amount\nexport function fromTokenAmount(amount: string | number, decimals: number = 9): number {\n  const num = typeof amount === \"string\" ? parseFloat(amount) : amount;\n  return num / Math.pow(10, decimals);\n}\n\n// Validate Solana public key\nexport function isValidPublicKey(address: string): boolean {\n  try {\n    new PublicKey(address);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n// Format token amount for display\nexport function formatTokenAmount(amount: string | number, decimals: number = 9): string {\n  const readable = fromTokenAmount(amount, decimals);\n  return new Intl.NumberFormat(\"en-US\", {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 9,\n  }).format(readable);\n}\n\n// Shorten address for display\nexport function shortenAddress(address: string, chars: number = 4): string {\n  return `${address.slice(0, chars)}...${address.slice(-chars)}`;\n}\n\n// Get token label or shortened address\nexport function getTokenLabel(mint: string): string {\n  return TOKEN_LABELS[mint] || shortenAddress(mint);\n}\n\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AAGO,MAAM,eAAe;IAC1B,SAAS;IACT,SAAS;IACT,iCAAiC;IACjC,KAAK;IACL,MAAM;AACR;AAEO,MAAM,eAAuC;IAClD,CAAC,aAAa,OAAO,CAAC,EAAE;IACxB,CAAC,aAAa,OAAO,CAAC,EAAE;IACxB,CAAC,aAAa,GAAG,CAAC,EAAE;IACpB,CAAC,aAAa,IAAI,CAAC,EAAE;AACvB;AAGO,SAAS,cAAc,MAAuB,EAAE,WAAmB,CAAC;IACzE,MAAM,MAAM,OAAO,WAAW,WAAW,WAAW,UAAU;IAC9D,OAAO,KAAK,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC,IAAI,WAAW,QAAQ;AAC1D;AAGO,SAAS,gBAAgB,MAAuB,EAAE,WAAmB,CAAC;IAC3E,MAAM,MAAM,OAAO,WAAW,WAAW,WAAW,UAAU;IAC9D,OAAO,MAAM,KAAK,GAAG,CAAC,IAAI;AAC5B;AAGO,SAAS,iBAAiB,OAAe;IAC9C,IAAI;QACF,IAAI,qVAAS,CAAC;QACd,OAAO;IACT,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAGO,SAAS,kBAAkB,MAAuB,EAAE,WAAmB,CAAC;IAC7E,MAAM,WAAW,gBAAgB,QAAQ;IACzC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAGO,SAAS,eAAe,OAAe,EAAE,QAAgB,CAAC;IAC/D,OAAO,GAAG,QAAQ,KAAK,CAAC,GAAG,OAAO,GAAG,EAAE,QAAQ,KAAK,CAAC,CAAC,QAAQ;AAChE;AAGO,SAAS,cAAc,IAAY;IACxC,OAAO,YAAY,CAAC,KAAK,IAAI,eAAe;AAC9C"}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/components/recent-activity.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { getSwaps, getProposals } from \"@/lib/api\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { getTokenLabel, formatTokenAmount } from \"@/lib/token-utils\";\nimport { ArrowRightLeft } from \"lucide-react\";\n\ninterface ActivityItem {\n  id: string;\n  type: 'swap' | 'proposal';\n  timestamp: Date;\n  data: any;\n}\n\ninterface RecentActivityProps {\n  limit?: number;\n}\n\nexport function RecentActivity({ limit = 15 }: RecentActivityProps) {\n  const { data: swaps, isLoading: swapsLoading } = useQuery({\n    queryKey: [\"swaps\", \"recent\", limit],\n    queryFn: () => getSwaps({ limit }),\n  });\n\n  const { data: proposals, isLoading: proposalsLoading } = useQuery({\n    queryKey: [\"proposals\", \"recent\"],\n    queryFn: () => getProposals(),\n  });\n\n  const isLoading = swapsLoading || proposalsLoading;\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4\">\n        {[1, 2, 3, 4, 5].map((i) => (\n          <div key={i} className=\"h-14 w-full bg-muted/30 rounded border border-border/40 animate-pulse\" />\n        ))}\n      </div>\n    );\n  }\n\n  // Combine and sort activities by timestamp\n  const activities: ActivityItem[] = [\n    ...(swaps || []).map(swap => ({\n      id: swap.id,\n      type: 'swap' as const,\n      timestamp: new Date(swap.executed_at),\n      data: swap,\n    })),\n    ...(proposals || []).map(proposal => ({\n      id: proposal.id,\n      type: 'proposal' as const,\n      timestamp: new Date(proposal.created_at),\n      data: proposal,\n    })),\n  ]\n    .sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime())\n    .slice(0, limit);\n\n  if (!activities.length) {\n    return (\n      <div className=\"text-sm text-muted-foreground py-8 text-center border border-dashed border-border/50 rounded-lg\">\n        No recent activity.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {activities.map((activity) => {\n        if (activity.type === 'swap') {\n          const swap = activity.data;\n          return (\n            <div key={activity.id} className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 rounded-md border border-border/40 hover:bg-muted/20 transition-colors\">\n              <div className=\"flex items-center gap-3 min-w-0 flex-1\">\n                <div className=\"w-2 h-2 rounded-full bg-green-500 flex-shrink-0\" />\n                <div className=\"flex flex-col min-w-0\">\n                  <div className=\"flex items-center gap-2 text-xs font-mono text-muted-foreground flex-wrap\">\n                    <span className=\"truncate\">{swap.seller.slice(0, 4)}...{swap.seller.slice(-4)}</span>\n                    <ArrowRightLeft className=\"h-3 w-3 flex-shrink-0\" />\n                    <span className=\"truncate\">{swap.buyer.slice(0, 4)}...{swap.buyer.slice(-4)}</span>\n                  </div>\n                  <span className=\"font-medium text-sm break-words\">\n                    Swapped {formatTokenAmount(swap.token_a_amount)} {getTokenLabel(swap.token_a_mint)}\n                    {\" ↔ \"}\n                    {formatTokenAmount(swap.token_b_amount)} {getTokenLabel(swap.token_b_mint)}\n                  </span>\n                </div>\n              </div>\n              <div className=\"text-xs text-muted-foreground whitespace-nowrap self-start sm:self-center\">\n                {formatDistanceToNow(activity.timestamp)} ago\n              </div>\n            </div>\n          );\n        } else {\n          const proposal = activity.data;\n          return (\n            <div key={activity.id} className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 rounded-md border border-border/40 hover:bg-muted/20 transition-colors\">\n              <div className=\"flex items-center gap-3 min-w-0 flex-1\">\n                <div className={`w-2 h-2 rounded-full flex-shrink-0 ${\n                  proposal.status === 'accepted' ? 'bg-green-500' : \n                  proposal.status === 'withdrawn' ? 'bg-red-500' : 'bg-yellow-500'\n                }`} />\n                <div className=\"flex flex-col min-w-0\">\n                  <span className=\"font-mono text-xs text-muted-foreground truncate\">\n                    {proposal.buyer.slice(0, 4)}...{proposal.buyer.slice(-4)}\n                  </span>\n                  <span className=\"font-medium text-sm break-words\">\n                    {proposal.status === 'pending' ? 'Proposed' : \n                     proposal.status === 'accepted' ? 'Accepted' : 'Withdrew'} \n                    {' '}{formatTokenAmount(proposal.proposed_amount)} {getTokenLabel(proposal.proposed_mint)}\n                  </span>\n                </div>\n              </div>\n              <div className=\"text-xs text-muted-foreground whitespace-nowrap self-start sm:self-center\">\n                {formatDistanceToNow(activity.timestamp)} ago\n              </div>\n            </div>\n          );\n        }\n      })}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAmBO,SAAS,eAAe,EAAE,QAAQ,EAAE,EAAuB;;IAChE,MAAM,EAAE,MAAM,KAAK,EAAE,WAAW,YAAY,EAAE,GAAG,IAAA,2RAAQ,EAAC;QACxD,UAAU;YAAC;YAAS;YAAU;SAAM;QACpC,OAAO;uCAAE,IAAM,IAAA,gIAAQ,EAAC;oBAAE;gBAAM;;IAClC;IAEA,MAAM,EAAE,MAAM,SAAS,EAAE,WAAW,gBAAgB,EAAE,GAAG,IAAA,2RAAQ,EAAC;QAChE,UAAU;YAAC;YAAa;SAAS;QACjC,OAAO;uCAAE,IAAM,IAAA,oIAAY;;IAC7B;IAEA,MAAM,YAAY,gBAAgB;IAElC,IAAI,WAAW;QACb,qBACE,8VAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;gBAAG;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,kBACpB,8VAAC;oBAAY,WAAU;mBAAb;;;;;;;;;;IAIlB;IAEA,2CAA2C;IAC3C,MAAM,aAA6B;WAC9B,CAAC,SAAS,EAAE,EAAE,GAAG,CAAC,CAAA,OAAQ,CAAC;gBAC5B,IAAI,KAAK,EAAE;gBACX,MAAM;gBACN,WAAW,IAAI,KAAK,KAAK,WAAW;gBACpC,MAAM;YACR,CAAC;WACE,CAAC,aAAa,EAAE,EAAE,GAAG,CAAC,CAAA,WAAY,CAAC;gBACpC,IAAI,SAAS,EAAE;gBACf,MAAM;gBACN,WAAW,IAAI,KAAK,SAAS,UAAU;gBACvC,MAAM;YACR,CAAC;KACF,CACE,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,CAAC,OAAO,KAAK,EAAE,SAAS,CAAC,OAAO,IAC1D,KAAK,CAAC,GAAG;IAEZ,IAAI,CAAC,WAAW,MAAM,EAAE;QACtB,qBACE,8VAAC;YAAI,WAAU;sBAAkG;;;;;;IAIrH;IAEA,qBACE,8VAAC;QAAI,WAAU;kBACZ,WAAW,GAAG,CAAC,CAAC;YACf,IAAI,SAAS,IAAI,KAAK,QAAQ;gBAC5B,MAAM,OAAO,SAAS,IAAI;gBAC1B,qBACE,8VAAC;oBAAsB,WAAU;;sCAC/B,8VAAC;4BAAI,WAAU;;8CACb,8VAAC;oCAAI,WAAU;;;;;;8CACf,8VAAC;oCAAI,WAAU;;sDACb,8VAAC;4CAAI,WAAU;;8DACb,8VAAC;oDAAK,WAAU;;wDAAY,KAAK,MAAM,CAAC,KAAK,CAAC,GAAG;wDAAG;wDAAI,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC;;;;;;;8DAC3E,8VAAC,uUAAc;oDAAC,WAAU;;;;;;8DAC1B,8VAAC;oDAAK,WAAU;;wDAAY,KAAK,KAAK,CAAC,KAAK,CAAC,GAAG;wDAAG;wDAAI,KAAK,KAAK,CAAC,KAAK,CAAC,CAAC;;;;;;;;;;;;;sDAE3E,8VAAC;4CAAK,WAAU;;gDAAkC;gDACvC,IAAA,oJAAiB,EAAC,KAAK,cAAc;gDAAE;gDAAE,IAAA,gJAAa,EAAC,KAAK,YAAY;gDAChF;gDACA,IAAA,oJAAiB,EAAC,KAAK,cAAc;gDAAE;gDAAE,IAAA,gJAAa,EAAC,KAAK,YAAY;;;;;;;;;;;;;;;;;;;sCAI/E,8VAAC;4BAAI,WAAU;;gCACZ,IAAA,oOAAmB,EAAC,SAAS,SAAS;gCAAE;;;;;;;;mBAjBnC,SAAS,EAAE;;;;;YAqBzB,OAAO;gBACL,MAAM,WAAW,SAAS,IAAI;gBAC9B,qBACE,8VAAC;oBAAsB,WAAU;;sCAC/B,8VAAC;4BAAI,WAAU;;8CACb,8VAAC;oCAAI,WAAW,CAAC,mCAAmC,EAClD,SAAS,MAAM,KAAK,aAAa,iBACjC,SAAS,MAAM,KAAK,cAAc,eAAe,iBACjD;;;;;;8CACF,8VAAC;oCAAI,WAAU;;sDACb,8VAAC;4CAAK,WAAU;;gDACb,SAAS,KAAK,CAAC,KAAK,CAAC,GAAG;gDAAG;gDAAI,SAAS,KAAK,CAAC,KAAK,CAAC,CAAC;;;;;;;sDAExD,8VAAC;4CAAK,WAAU;;gDACb,SAAS,MAAM,KAAK,YAAY,aAChC,SAAS,MAAM,KAAK,aAAa,aAAa;gDAC9C;gDAAK,IAAA,oJAAiB,EAAC,SAAS,eAAe;gDAAE;gDAAE,IAAA,gJAAa,EAAC,SAAS,aAAa;;;;;;;;;;;;;;;;;;;sCAI9F,8VAAC;4BAAI,WAAU;;gCACZ,IAAA,oOAAmB,EAAC,SAAS,SAAS;gCAAE;;;;;;;;mBAlBnC,SAAS,EAAE;;;;;YAsBzB;QACF;;;;;;AAGN;GAzGgB;;QACmC,2RAAQ;QAKA,2RAAQ;;;KANnD"}},
    {"offset": {"line": 592, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/hooks/use-wallet-swaps.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport { getSwaps } from \"@/lib/api\";\nimport { useWalletAuth } from \"./use-wallet-auth\";\n\nexport function useWalletSwaps() {\n  const { walletAddress, isConnected } = useWalletAuth();\n\n  const { data: buyerSwaps, isLoading: buyerLoading } = useQuery({\n    queryKey: [\"swaps\", \"buyer\", walletAddress],\n    queryFn: () => walletAddress ? getSwaps({ buyer: walletAddress }) : Promise.resolve([]),\n    enabled: isConnected && !!walletAddress,\n  });\n\n  const { data: sellerSwaps, isLoading: sellerLoading } = useQuery({\n    queryKey: [\"swaps\", \"seller\", walletAddress],\n    queryFn: () => walletAddress ? getSwaps({ seller: walletAddress }) : Promise.resolve([]),\n    enabled: isConnected && !!walletAddress,\n  });\n\n  // Combine and deduplicate\n  const allSwaps = [\n    ...(buyerSwaps || []),\n    ...(sellerSwaps || []),\n  ].filter((swap, index, self) => \n    index === self.findIndex(s => s.id === swap.id)\n  ).sort((a, b) => \n    new Date(b.executed_at).getTime() - new Date(a.executed_at).getTime()\n  );\n\n  return {\n    swaps: allSwaps,\n    buyerSwaps: buyerSwaps || [],\n    sellerSwaps: sellerSwaps || [],\n    isLoading: buyerLoading || sellerLoading,\n  };\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEO,SAAS;;IACd,MAAM,EAAE,aAAa,EAAE,WAAW,EAAE,GAAG,IAAA,yJAAa;IAEpD,MAAM,EAAE,MAAM,UAAU,EAAE,WAAW,YAAY,EAAE,GAAG,IAAA,2RAAQ,EAAC;QAC7D,UAAU;YAAC;YAAS;YAAS;SAAc;QAC3C,OAAO;uCAAE,IAAM,gBAAgB,IAAA,gIAAQ,EAAC;oBAAE,OAAO;gBAAc,KAAK,QAAQ,OAAO,CAAC,EAAE;;QACtF,SAAS,eAAe,CAAC,CAAC;IAC5B;IAEA,MAAM,EAAE,MAAM,WAAW,EAAE,WAAW,aAAa,EAAE,GAAG,IAAA,2RAAQ,EAAC;QAC/D,UAAU;YAAC;YAAS;YAAU;SAAc;QAC5C,OAAO;uCAAE,IAAM,gBAAgB,IAAA,gIAAQ,EAAC;oBAAE,QAAQ;gBAAc,KAAK,QAAQ,OAAO,CAAC,EAAE;;QACvF,SAAS,eAAe,CAAC,CAAC;IAC5B;IAEA,0BAA0B;IAC1B,MAAM,WAAW;WACX,cAAc,EAAE;WAChB,eAAe,EAAE;KACtB,CAAC,MAAM,CAAC,CAAC,MAAM,OAAO,OACrB,UAAU,KAAK,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,EAAE,GAC9C,IAAI,CAAC,CAAC,GAAG,IACT,IAAI,KAAK,EAAE,WAAW,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,WAAW,EAAE,OAAO;IAGrE,OAAO;QACL,OAAO;QACP,YAAY,cAAc,EAAE;QAC5B,aAAa,eAAe,EAAE;QAC9B,WAAW,gBAAgB;IAC7B;AACF;GA/BgB;;QACyB,yJAAa;QAEE,2RAAQ;QAMN,2RAAQ"}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8VAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 706, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/components/my-swaps.tsx"],"sourcesContent":["\"use client\";\n\nimport { useWalletSwaps } from \"@/hooks/use-wallet-swaps\";\nimport { useWalletAuth } from \"@/hooks/use-wallet-auth\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { getTokenLabel, formatTokenAmount } from \"@/lib/token-utils\";\nimport { ArrowRightLeft, ShoppingBag, Store } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\n\nexport function MySwaps() {\n  const { isConnected, walletAddress } = useWalletAuth();\n  const { swaps, isLoading } = useWalletSwaps();\n\n  if (!isConnected) {\n    return (\n      <div className=\"text-sm text-muted-foreground py-8 text-center border border-dashed border-border/50 rounded-lg\">\n        Connect your wallet to view your swap history.\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"h-20 w-full bg-muted/30 rounded border border-border/40 animate-pulse\" />\n        ))}\n      </div>\n    );\n  }\n\n  if (!swaps?.length) {\n    return (\n      <div className=\"text-sm text-muted-foreground py-8 text-center border border-dashed border-border/50 rounded-lg\">\n        You haven't participated in any swaps yet.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {swaps.map((swap) => {\n        const isBuyer = swap.buyer === walletAddress;\n        const isSeller = swap.seller === walletAddress;\n        \n        return (\n          <div key={swap.id} className=\"p-4 rounded-lg border border-border/40 hover:bg-muted/20 transition-colors\">\n            <div className=\"flex items-start justify-between mb-3\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center\">\n                  <ArrowRightLeft className=\"h-4 w-4 text-green-500\" />\n                </div>\n                <div className=\"flex flex-col\">\n                  <span className=\"text-sm font-medium\">Swap Completed</span>\n                  <span className=\"text-xs text-muted-foreground\">\n                    {formatDistanceToNow(new Date(swap.executed_at))} ago\n                  </span>\n                </div>\n              </div>\n              <Badge variant={isBuyer ? \"default\" : \"secondary\"} className=\"gap-1\">\n                {isBuyer ? (\n                  <>\n                    <ShoppingBag className=\"h-3 w-3\" />\n                    Buyer\n                  </>\n                ) : (\n                  <>\n                    <Store className=\"h-3 w-3\" />\n                    Seller\n                  </>\n                )}\n              </Badge>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n              <div className=\"flex flex-col space-y-1\">\n                <span className=\"text-xs text-muted-foreground uppercase font-medium\">\n                  {isBuyer ? \"You Paid\" : \"You Received\"}\n                </span>\n                <div className=\"flex flex-col\">\n                  <span className=\"font-medium\">\n                    {formatTokenAmount(isBuyer ? swap.token_b_amount : swap.token_a_amount)}\n                  </span>\n                  <span className=\"text-xs text-muted-foreground font-mono truncate\">\n                    {getTokenLabel(isBuyer ? swap.token_b_mint : swap.token_a_mint)}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"flex flex-col space-y-1\">\n                <span className=\"text-xs text-muted-foreground uppercase font-medium\">\n                  {isBuyer ? \"You Received\" : \"You Paid\"}\n                </span>\n                <div className=\"flex flex-col\">\n                  <span className=\"font-medium\">\n                    {formatTokenAmount(isBuyer ? swap.token_a_amount : swap.token_b_amount)}\n                  </span>\n                  <span className=\"text-xs text-muted-foreground font-mono truncate\">\n                    {getTokenLabel(isBuyer ? swap.token_a_mint : swap.token_b_mint)}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"mt-3 pt-3 border-t border-border/40 flex items-center justify-between text-xs\">\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <span>{isBuyer ? \"Seller\" : \"Buyer\"}:</span>\n                <span className=\"font-mono\">\n                  {(isBuyer ? swap.seller : swap.buyer).slice(0, 4)}...\n                  {(isBuyer ? swap.seller : swap.buyer).slice(-4)}\n                </span>\n              </div>\n              <a\n                href={`https://explorer.solana.com/tx/${swap.signature}?cluster=devnet`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-primary hover:underline\"\n              >\n                View on Explorer →\n              </a>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1044, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/components/my-offers.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { getOffers } from \"@/lib/api\";\nimport { useWalletAuth } from \"@/hooks/use-wallet-auth\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { getTokenLabel, formatTokenAmount } from \"@/lib/token-utils\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Store } from \"lucide-react\";\n\nexport function MyOffers() {\n  const { isConnected, walletAddress } = useWalletAuth();\n\n  const { data: offers, isLoading } = useQuery({\n    queryKey: [\"offers\", \"seller\", walletAddress, \"active\"],\n    queryFn: () => walletAddress ? getOffers({ seller: walletAddress, status: 'active' }) : Promise.resolve([]),\n    enabled: isConnected && !!walletAddress,\n  });\n\n  if (!isConnected) {\n    return (\n      <div className=\"text-sm text-muted-foreground py-8 text-center border border-dashed border-border/50 rounded-lg\">\n        Connect your wallet to view your offers.\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4\">\n        {[1, 2].map((i) => (\n          <div key={i} className=\"h-20 w-full bg-muted/30 rounded border border-border/40 animate-pulse\" />\n        ))}\n      </div>\n    );\n  }\n\n  if (!offers?.length) {\n    return (\n      <div className=\"text-sm text-muted-foreground py-8 text-center border border-dashed border-border/50 rounded-lg\">\n        You don't have any active offers.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {offers.map((offer) => (\n        <div key={offer.id} className=\"p-4 rounded-lg border border-border/40 hover:bg-muted/20 transition-colors\">\n          <div className=\"flex items-start justify-between mb-3\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center\">\n                <Store className=\"h-4 w-4 text-primary\" />\n              </div>\n              <div className=\"flex flex-col\">\n                <span className=\"text-sm font-medium\">Your Offer</span>\n                <span className=\"text-xs text-muted-foreground\">\n                  {formatDistanceToNow(new Date(offer.created_at))} ago\n                </span>\n              </div>\n            </div>\n            <Badge variant=\"default\">\n              Active\n            </Badge>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n            <div className=\"flex flex-col space-y-1\">\n              <span className=\"text-xs text-muted-foreground uppercase font-medium\">\n                Selling\n              </span>\n              <div className=\"flex flex-col\">\n                <span className=\"font-medium\">\n                  {formatTokenAmount(offer.token_amount_a)}\n                </span>\n                <span className=\"text-xs text-muted-foreground font-mono truncate\">\n                  {getTokenLabel(offer.token_mint_a)}\n                </span>\n              </div>\n            </div>\n\n            <div className=\"flex flex-col space-y-1\">\n              <span className=\"text-xs text-muted-foreground uppercase font-medium\">\n                For\n              </span>\n              <div className=\"flex flex-col\">\n                <span className=\"font-medium\">\n                  {formatTokenAmount(offer.token_amount_b)}\n                </span>\n                <span className=\"text-xs text-muted-foreground font-mono truncate\">\n                  {getTokenLabel(offer.token_mint_b)}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-3 pt-3 border-t border-border/40 flex items-center justify-between text-xs\">\n            <Badge variant={offer.allow_alternatives ? \"secondary\" : \"outline\"} className=\"text-xs\">\n              {offer.allow_alternatives ? \"Negotiable\" : \"Fixed Price\"}\n            </Badge>\n            <a\n              href={`https://explorer.solana.com/tx/${offer.signature}?cluster=devnet`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-primary hover:underline\"\n            >\n              View on Explorer →\n            </a>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUO,SAAS;;IACd,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,GAAG,IAAA,yJAAa;IAEpD,MAAM,EAAE,MAAM,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,2RAAQ,EAAC;QAC3C,UAAU;YAAC;YAAU;YAAU;YAAe;SAAS;QACvD,OAAO;iCAAE,IAAM,gBAAgB,IAAA,iIAAS,EAAC;oBAAE,QAAQ;oBAAe,QAAQ;gBAAS,KAAK,QAAQ,OAAO,CAAC,EAAE;;QAC1G,SAAS,eAAe,CAAC,CAAC;IAC5B;IAEA,IAAI,CAAC,aAAa;QAChB,qBACE,8VAAC;YAAI,WAAU;sBAAkG;;;;;;IAIrH;IAEA,IAAI,WAAW;QACb,qBACE,8VAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,kBACX,8VAAC;oBAAY,WAAU;mBAAb;;;;;;;;;;IAIlB;IAEA,IAAI,CAAC,QAAQ,QAAQ;QACnB,qBACE,8VAAC;YAAI,WAAU;sBAAkG;;;;;;IAIrH;IAEA,qBACE,8VAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC,sBACX,8VAAC;gBAAmB,WAAU;;kCAC5B,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAI,WAAU;;kDACb,8VAAC;wCAAI,WAAU;kDACb,cAAA,8VAAC,oSAAK;4CAAC,WAAU;;;;;;;;;;;kDAEnB,8VAAC;wCAAI,WAAU;;0DACb,8VAAC;gDAAK,WAAU;0DAAsB;;;;;;0DACtC,8VAAC;gDAAK,WAAU;;oDACb,IAAA,oOAAmB,EAAC,IAAI,KAAK,MAAM,UAAU;oDAAG;;;;;;;;;;;;;;;;;;;0CAIvD,8VAAC,6IAAK;gCAAC,SAAQ;0CAAU;;;;;;;;;;;;kCAK3B,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAI,WAAU;;kDACb,8VAAC;wCAAK,WAAU;kDAAsD;;;;;;kDAGtE,8VAAC;wCAAI,WAAU;;0DACb,8VAAC;gDAAK,WAAU;0DACb,IAAA,oJAAiB,EAAC,MAAM,cAAc;;;;;;0DAEzC,8VAAC;gDAAK,WAAU;0DACb,IAAA,gJAAa,EAAC,MAAM,YAAY;;;;;;;;;;;;;;;;;;0CAKvC,8VAAC;gCAAI,WAAU;;kDACb,8VAAC;wCAAK,WAAU;kDAAsD;;;;;;kDAGtE,8VAAC;wCAAI,WAAU;;0DACb,8VAAC;gDAAK,WAAU;0DACb,IAAA,oJAAiB,EAAC,MAAM,cAAc;;;;;;0DAEzC,8VAAC;gDAAK,WAAU;0DACb,IAAA,gJAAa,EAAC,MAAM,YAAY;;;;;;;;;;;;;;;;;;;;;;;;kCAMzC,8VAAC;wBAAI,WAAU;;0CACb,8VAAC,6IAAK;gCAAC,SAAS,MAAM,kBAAkB,GAAG,cAAc;gCAAW,WAAU;0CAC3E,MAAM,kBAAkB,GAAG,eAAe;;;;;;0CAE7C,8VAAC;gCACC,MAAM,CAAC,+BAA+B,EAAE,MAAM,SAAS,CAAC,eAAe,CAAC;gCACxE,QAAO;gCACP,KAAI;gCACJ,WAAU;0CACX;;;;;;;;;;;;;eAzDK,MAAM,EAAE;;;;;;;;;;AAiE1B;GAvGgB;;QACyB,yJAAa;QAEhB,2RAAQ;;;KAH9B"}},
    {"offset": {"line": 1346, "column": 0}, "map": {"version":3,"sources":["file:///Users/sanse/Code/github.com/SanseDev/fair-swap/src/components/my-proposals.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { getProposals } from \"@/lib/api\";\nimport { useWalletAuth } from \"@/hooks/use-wallet-auth\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { getTokenLabel, formatTokenAmount } from \"@/lib/token-utils\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ShoppingBag } from \"lucide-react\";\n\nexport function MyProposals() {\n  const { isConnected, walletAddress } = useWalletAuth();\n\n  const { data: proposals, isLoading } = useQuery({\n    queryKey: [\"proposals\", \"buyer\", walletAddress],\n    queryFn: () => walletAddress ? getProposals(undefined, { buyer: walletAddress }) : Promise.resolve([]),\n    enabled: isConnected && !!walletAddress,\n  });\n\n  if (!isConnected) {\n    return (\n      <div className=\"text-sm text-muted-foreground py-8 text-center border border-dashed border-border/50 rounded-lg\">\n        Connect your wallet to view your proposals.\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4\">\n        {[1, 2].map((i) => (\n          <div key={i} className=\"h-20 w-full bg-muted/30 rounded border border-border/40 animate-pulse\" />\n        ))}\n      </div>\n    );\n  }\n\n  if (!proposals?.length) {\n    return (\n      <div className=\"text-sm text-muted-foreground py-8 text-center border border-dashed border-border/50 rounded-lg\">\n        You haven't made any proposals yet.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {proposals.map((proposal) => (\n        <div key={proposal.id} className=\"p-4 rounded-lg border border-border/40 hover:bg-muted/20 transition-colors\">\n          <div className=\"flex items-start justify-between mb-3\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 rounded-full bg-blue-500/10 flex items-center justify-center\">\n                <ShoppingBag className=\"h-4 w-4 text-blue-500\" />\n              </div>\n              <div className=\"flex flex-col\">\n                <span className=\"text-sm font-medium\">Your Proposal</span>\n                <span className=\"text-xs text-muted-foreground\">\n                  {formatDistanceToNow(new Date(proposal.created_at))} ago\n                </span>\n              </div>\n            </div>\n            <Badge \n              variant={\n                proposal.status === 'accepted' ? 'default' : \n                proposal.status === 'withdrawn' ? 'outline' : \n                'secondary'\n              }\n            >\n              {proposal.status}\n            </Badge>\n          </div>\n\n          <div className=\"flex flex-col space-y-1 text-sm\">\n            <span className=\"text-xs text-muted-foreground uppercase font-medium\">\n              Proposed Amount\n            </span>\n            <div className=\"flex flex-col\">\n              <span className=\"font-medium\">\n                {formatTokenAmount(proposal.proposed_amount)}\n              </span>\n              <span className=\"text-xs text-muted-foreground font-mono truncate\">\n                {getTokenLabel(proposal.proposed_mint)}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"mt-3 pt-3 border-t border-border/40 flex items-center justify-between text-xs\">\n            <span className=\"text-muted-foreground font-mono\">\n              Offer: {proposal.offer_id.slice(0, 8)}...\n            </span>\n            <a\n              href={`https://explorer.solana.com/tx/${proposal.signature}?cluster=devnet`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-primary hover:underline\"\n            >\n              View on Explorer →\n            </a>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUO,SAAS;;IACd,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,GAAG,IAAA,yJAAa;IAEpD,MAAM,EAAE,MAAM,SAAS,EAAE,SAAS,EAAE,GAAG,IAAA,2RAAQ,EAAC;QAC9C,UAAU;YAAC;YAAa;YAAS;SAAc;QAC/C,OAAO;oCAAE,IAAM,gBAAgB,IAAA,oIAAY,EAAC,WAAW;oBAAE,OAAO;gBAAc,KAAK,QAAQ,OAAO,CAAC,EAAE;;QACrG,SAAS,eAAe,CAAC,CAAC;IAC5B;IAEA,IAAI,CAAC,aAAa;QAChB,qBACE,8VAAC;YAAI,WAAU;sBAAkG;;;;;;IAIrH;IAEA,IAAI,WAAW;QACb,qBACE,8VAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,kBACX,8VAAC;oBAAY,WAAU;mBAAb;;;;;;;;;;IAIlB;IAEA,IAAI,CAAC,WAAW,QAAQ;QACtB,qBACE,8VAAC;YAAI,WAAU;sBAAkG;;;;;;IAIrH;IAEA,qBACE,8VAAC;QAAI,WAAU;kBACZ,UAAU,GAAG,CAAC,CAAC,yBACd,8VAAC;gBAAsB,WAAU;;kCAC/B,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAI,WAAU;;kDACb,8VAAC;wCAAI,WAAU;kDACb,cAAA,8VAAC,0TAAW;4CAAC,WAAU;;;;;;;;;;;kDAEzB,8VAAC;wCAAI,WAAU;;0DACb,8VAAC;gDAAK,WAAU;0DAAsB;;;;;;0DACtC,8VAAC;gDAAK,WAAU;;oDACb,IAAA,oOAAmB,EAAC,IAAI,KAAK,SAAS,UAAU;oDAAG;;;;;;;;;;;;;;;;;;;0CAI1D,8VAAC,6IAAK;gCACJ,SACE,SAAS,MAAM,KAAK,aAAa,YACjC,SAAS,MAAM,KAAK,cAAc,YAClC;0CAGD,SAAS,MAAM;;;;;;;;;;;;kCAIpB,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAK,WAAU;0CAAsD;;;;;;0CAGtE,8VAAC;gCAAI,WAAU;;kDACb,8VAAC;wCAAK,WAAU;kDACb,IAAA,oJAAiB,EAAC,SAAS,eAAe;;;;;;kDAE7C,8VAAC;wCAAK,WAAU;kDACb,IAAA,gJAAa,EAAC,SAAS,aAAa;;;;;;;;;;;;;;;;;;kCAK3C,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAK,WAAU;;oCAAkC;oCACxC,SAAS,QAAQ,CAAC,KAAK,CAAC,GAAG;oCAAG;;;;;;;0CAExC,8VAAC;gCACC,MAAM,CAAC,+BAA+B,EAAE,SAAS,SAAS,CAAC,eAAe,CAAC;gCAC3E,QAAO;gCACP,KAAI;gCACJ,WAAU;0CACX;;;;;;;;;;;;;eA/CK,SAAS,EAAE;;;;;;;;;;AAuD7B;GA7FgB;;QACyB,yJAAa;QAEb,2RAAQ;;;KAHjC"}}]
}