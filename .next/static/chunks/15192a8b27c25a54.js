(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67064,e=>{e.v({address:"DMpk34ArT3Z8nXtZgQXftWhKNq5MAkMcieEFnUQW7oCU",metadata:{name:"fair_swap",version:"0.1.0",spec:"0.1.0",description:"FairSwap - Trustless P2P Asset Exchange on Solana"},instructions:[{name:"accept_proposal",discriminator:[33,190,130,178,27,12,168,238],accounts:[{name:"offer",writable:!0},{name:"proposal",writable:!0},{name:"offer_vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]},{kind:"account",path:"offer"}]}},{name:"proposal_vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]},{kind:"account",path:"proposal"}]}},{name:"seller_receive_account",writable:!0},{name:"buyer_receive_account",writable:!0},{name:"seller",writable:!0,signer:!0},{name:"buyer_account",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"cancel_offer",discriminator:[92,203,223,40,92,89,53,119],accounts:[{name:"offer",writable:!0},{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]},{kind:"account",path:"offer"}]}},{name:"seller_token_account",writable:!0},{name:"seller",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"execute_swap",discriminator:[56,182,124,215,155,140,157,102],accounts:[{name:"offer",writable:!0},{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]},{kind:"account",path:"offer"}]}},{name:"buyer_token_account",writable:!0},{name:"seller_token_account",writable:!0},{name:"buyer_receive_account",writable:!0},{name:"buyer",writable:!0,signer:!0},{name:"seller",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"initialize_offer",discriminator:[41,143,90,114,58,124,142,87],accounts:[{name:"offer",writable:!0,pda:{seeds:[{kind:"const",value:[111,102,102,101,114]},{kind:"account",path:"seller"},{kind:"arg",path:"offer_id"}]}},{name:"vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]},{kind:"account",path:"offer"}]}},{name:"seller_token_account",writable:!0},{name:"token_mint_a"},{name:"seller",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"offer_id",type:"u64"},{name:"token_amount_a",type:"u64"},{name:"token_mint_b",type:"pubkey"},{name:"token_amount_b",type:"u64"},{name:"allow_alternatives",type:"bool"}]},{name:"submit_proposal",discriminator:[224,38,210,52,167,150,221,150],accounts:[{name:"offer"},{name:"proposal",writable:!0,pda:{seeds:[{kind:"const",value:[112,114,111,112,111,115,97,108]},{kind:"account",path:"offer"},{kind:"account",path:"buyer"},{kind:"arg",path:"proposal_id"}]}},{name:"proposal_vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]},{kind:"account",path:"proposal"}]}},{name:"buyer_token_account",writable:!0},{name:"proposed_mint"},{name:"buyer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"proposal_id",type:"u64"},{name:"proposed_amount",type:"u64"}]},{name:"withdraw_proposal",discriminator:[135,1,185,99,36,69,15,38],accounts:[{name:"proposal",writable:!0},{name:"proposal_vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116]},{kind:"account",path:"proposal"}]}},{name:"buyer_token_account",writable:!0},{name:"buyer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]}],accounts:[{name:"Offer",discriminator:[215,88,60,71,170,162,73,229]},{name:"Proposal",discriminator:[26,94,189,187,116,136,53,33]}],errors:[{code:6e3,name:"UnauthorizedBuyer",msg:"Only buyer can withdraw proposal"}],types:[{name:"Offer",type:{kind:"struct",fields:[{name:"offer_id",type:"u64"},{name:"seller",type:"pubkey"},{name:"token_mint_a",type:"pubkey"},{name:"token_amount_a",type:"u64"},{name:"token_mint_b",type:"pubkey"},{name:"token_amount_b",type:"u64"},{name:"allow_alternatives",type:"bool"},{name:"bump",type:"u8"}]}},{name:"Proposal",type:{kind:"struct",fields:[{name:"proposal_id",type:"u64"},{name:"buyer",type:"pubkey"},{name:"offer",type:"pubkey"},{name:"proposed_mint",type:"pubkey"},{name:"proposed_amount",type:"u64"},{name:"bump",type:"u8"}]}}]})},45723,e=>{"use strict";var a=e.i(42548),t=e.i(76434),s=e.i(9165);function r(){let{data:e,isLoading:r}=(0,t.useQuery)({queryKey:["swapStats"],queryFn:s.getSwapStats});return r?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 p-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"space-y-2 animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 w-24 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-8 w-16 bg-muted rounded"})]},e))}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 p-4 border-b border-border/40",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Total Volume"}),(0,a.jsx)("div",{className:"text-3xl font-light mt-1",children:e?.total_volume?.toLocaleString()??"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Total Swaps"}),(0,a.jsx)("div",{className:"text-3xl font-light mt-1",children:e?.total_swaps?.toLocaleString()??"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Active Offers"}),(0,a.jsx)("div",{className:"text-3xl font-light mt-1",children:e?.active_offers?.toLocaleString()??"0"})]})]})}e.s(["SwapStats",()=>r])},19703,e=>{"use strict";var a=e.i(42548),t=e.i(76434),s=e.i(9165),r=e.i(81435),n=e.i(78794);let o=(0,e.i(47835).default)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);function i({limit:e=15}){let{data:i,isLoading:d}=(0,t.useQuery)({queryKey:["swaps","recent",e],queryFn:()=>(0,s.getSwaps)({limit:e})}),{data:l,isLoading:m}=(0,t.useQuery)({queryKey:["proposals","recent"],queryFn:()=>(0,s.getProposals)()});if(d||m)return(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,a.jsx)("div",{className:"h-14 w-full bg-muted/30 rounded border border-border/40 animate-pulse"},e))});let c=[...(i||[]).map(e=>({id:e.id,type:"swap",timestamp:new Date(e.executed_at),data:e})),...(l||[]).map(e=>({id:e.id,type:"proposal",timestamp:new Date(e.created_at),data:e}))].sort((e,a)=>a.timestamp.getTime()-e.timestamp.getTime()).slice(0,e);return c.length?(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>{if("swap"===e.type){let t=e.data;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md border border-border/40 hover:bg-muted/20 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono text-muted-foreground",children:[(0,a.jsxs)("span",{children:[t.seller.slice(0,4),"...",t.seller.slice(-4)]}),(0,a.jsx)(o,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[t.buyer.slice(0,4),"...",t.buyer.slice(-4)]})]}),(0,a.jsxs)("span",{className:"font-medium text-sm",children:["Swapped ",(0,n.formatTokenAmount)(t.token_a_amount)," ",(0,n.getTokenLabel)(t.token_a_mint)," â†” ",(0,n.formatTokenAmount)(t.token_b_amount)," ",(0,n.getTokenLabel)(t.token_b_mint)]})]})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,r.formatDistanceToNow)(e.timestamp)," ago"]})]},e.id)}{let t=e.data;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md border border-border/40 hover:bg-muted/20 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${"accepted"===t.status?"bg-green-500":"withdrawn"===t.status?"bg-red-500":"bg-yellow-500"}`}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("span",{className:"font-mono text-xs text-muted-foreground",children:[t.buyer.slice(0,4),"...",t.buyer.slice(-4)]}),(0,a.jsxs)("span",{className:"font-medium text-sm",children:["pending"===t.status?"Proposed":"accepted"===t.status?"Accepted":"Withdrew"," ",(0,n.formatTokenAmount)(t.proposed_amount)," ",(0,n.getTokenLabel)(t.proposed_mint)]})]})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,r.formatDistanceToNow)(e.timestamp)," ago"]})]},e.id)}})}):(0,a.jsx)("div",{className:"text-sm text-muted-foreground py-8 text-center border border-dashed border-border/50 rounded-lg",children:"No recent activity."})}e.s(["RecentActivity",()=>i],19703)}]);